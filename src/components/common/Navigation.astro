---
import ThemeIcon from "@components/widgets/ThemeIcon.astro";
---

<header class="sticky top-0 z-40 bg-surface/80 backdrop-blur-md border-b border-border/50">
    <nav class="w-full max-w-7xl mx-auto px-6 py-4 flex flex-row justify-between" aria-label="主导航">
        <div class="flex items-center justify-between flex-1">
            <!-- 网站标志 -->
            <a
                    href="/"
                    class="text-2xl font-semibold text-foreground hover:text-primary transition-colors duration-200"
                    aria-label="返回首页"
            >
                Moonpeak's Blog
            </a>

            <!-- 主导航链接 -->
            <ul class="hidden md:flex items-center space-x-8">
                <li>
                    <a href="/"
                       class="text-foreground/80 hover:text-foreground transition-colors duration-200 font-medium">
                        首页
                    </a>
                </li>
                <li>
                    <a href="/blog"
                       class="text-foreground/80 hover:text-foreground transition-colors duration-200 font-medium">
                        博客
                    </a>
                </li>
                <li>
                    <a href="/about"
                       class="text-foreground/80 hover:text-foreground transition-colors duration-200 font-medium">
                        关于
                    </a>
                </li>
                <li class="relative group">
                    <button class="flex items-center gap-1 text-foreground/80 group-hover:text-foreground transition-colors duration-200 font-medium py-2">
                        工具箱
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 transition-transform duration-300 group-hover:rotate-180" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
                        </svg>
                    </button>

                    <div class="absolute left-0 top-full pt-2 opacity-0 translate-y-2 invisible group-hover:opacity-100 group-hover:translate-y-0 group-hover:visible transition-all duration-300 z-50">
                        <div class="w-56 p-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-2xl shadow-xl shadow-slate-200/50 dark:shadow-black/50 backdrop-blur-xl">

                            <div class="space-y-1">
                                <a href="/links#常用工具" class="flex items-center justify-between px-4 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-xl transition-all">
                                    <span>常用工具</span>
                                    <span class="text-[10px] bg-slate-100 dark:bg-slate-800 px-1.5 py-0.5 rounded text-slate-400 group-hover:bg-indigo-100">Hot</span>
                                </a>

                                <a href="/links#开发资源" class="flex items-center px-4 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-xl transition-all">
                                    开发资源
                                </a>

                                <a href="/links#娱乐休闲" class="flex items-center px-4 py-2.5 text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-indigo-50 dark:hover:bg-indigo-500/10 hover:text-indigo-600 dark:hover:text-indigo-400 rounded-xl transition-all">
                                    娱乐休闲
                                </a>
                            </div>

                            <div class="mt-2 pt-2 border-t border-slate-100 dark:border-slate-800 px-4 py-2">
                                <a href="/links" class="text-[11px] font-bold text-indigo-500 hover:text-indigo-600 uppercase tracking-tighter">查看全部 →</a>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
        <div class="flex items-center space-x-4 min-w-24 justify-around">
            <!-- 移动端菜单按钮 -->
            <button class="md:hidden p-2 rounded-lg hover:bg-muted transition-colors" aria-label="切换菜单">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
            <div>
                <ThemeIcon size="md" variant="icon"/>
            </div>
        </div>
    </nav>
</header>
