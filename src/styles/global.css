@import "tailwindcss";
@plugin "@tailwindcss/typography";
@custom-variant dark (&:where(.dark, .dark *));
@theme {
    /* 1. 定义基础颜色变量 */
    --color-prose-body: var(--color-gray-700);
    --color-prose-headings: var(--color-gray-900);
    --color-prose-links: var(--color-indigo-600);
    --color-prose-bold: var(--color-gray-900);
    --color-prose-counters: var(--color-gray-500);
    --color-prose-bullets: var(--color-gray-300);
    --color-prose-quotes: var(--color-gray-900);
    --color-prose-hr: var(--color-gray-200);
    --color-code-bg: #1a1b26;        /* 东京夜主题背景色 */
    --color-code-text: #c0caf5;      /* 文本色 */
    --color-code-inline-bg: #f3f4f6; /* 行内代码背景（浅色模式） */
    --color-code-inline-text: #d1127e; /* 行内代码文字（浅色模式） */
}

/* 2. 暗黑模式变量重写 */
@variant dark {
    :root {
        --color-prose-body: var(--color-gray-300);
        --color-prose-headings: var(--color-white);
        --color-prose-links: var(--color-indigo-400);
        --color-prose-bold: var(--color-white);
        --color-prose-counters: var(--color-gray-400);
        --color-prose-bullets: var(--color-gray-600);
        --color-prose-quotes: var(--color-gray-100);
        --color-prose-hr: var(--color-gray-800);
    }
}

@layer components {
    .prose-custom {
        /* 3. 必须覆盖所有关键的 prose 变量 */
        --tw-prose-body: var(--color-prose-body);
        --tw-prose-headings: var(--color-prose-headings);
        --tw-prose-links: var(--color-prose-links);
        --tw-prose-bold: var(--color-prose-bold);
        --tw-prose-counters: var(--color-prose-counters);
        --tw-prose-bullets: var(--color-prose-bullets);
        --tw-prose-quotes: var(--color-prose-quotes);
        --tw-prose-hr: var(--color-prose-hr);

        /* 代码块相关变量 */
        --tw-prose-pre-bg: var(--color-gray-900);
        --tw-prose-pre-code: var(--color-gray-100);

    }
}